---
aliases:
---
## שאלה 1

### סעיף א'
![[IRB1_E2022WA 2022 חורף מועד א 2025-07-12 11.28.02.excalidraw.svg]]^figure-q1-axes
>הגדרת מערכות צירים לפי D–H.

### סעיף ב'
$$\boxed {
\begin{array}{c|cccc}
i & \alpha _{i} & {a}_{i} & {d}_{i} & {\theta}_{i} \\
\hline 1 & -90^{\circ} & {L}_{2} & {L}_{1} & {\theta}_{1} \\
2 & -90^{\circ}  & {L}_{5} & {L}_{3} & {\theta}_{2} \\
3 & 0 & 0 & {L}_{4}+{d}_{3} & 0
\end{array}
 }$$

### סעיף ג'
לפי [[IRB1_002 Forward Kinematics|משוואה]] $\text{(LP14.5)}$:
$$^{i-1}\mathbf{T}_i = \begin{pmatrix}
\cos\theta_i & -\sin\theta_i\cos\alpha_i & \sin\theta_i\sin\alpha_i & a_i\cos\theta_i \\
\sin\theta_i & \cos\theta_i\cos\alpha_i & -\cos\theta_i\sin\alpha_i & a_i\sin\theta_i \\
0 & \sin\alpha_i & \cos\alpha_i & d_i \\
0 & 0 & 0 & 1
\end{pmatrix}$$


לכן:
$$\small\begin{aligned}
 & ^{0}\mathbf{T}_{1}=\begin{pmatrix}
{c}_{1} & 0 & -{s}_{1} & {L}_{2}{c}_{1} \\
{s}_{1} & 0 & {c}_{1} & {L}_{2}{s}_{1} \\
0 & -1 & 0 & {L}_{1} \\
0 & 0 & 0 & 1
\end{pmatrix}, &  & ^{1}\mathbf{T}_{2}=\begin{pmatrix}
{c}_{2} & 0 & -{s}_{2} & {L}_{5}{c}_{2} \\
{s}_{2} & 0 & {c}_{2} & {L}_{5}{s}_{2} \\
0 & -1 & 0 & {L}_{3} \\
0 & 0 & 0 & 1
\end{pmatrix} \\[1ex]
 & ^{2}\mathbf{T}_{3}=\begin{pmatrix}
1 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 \\
0 & 0 & 1 & {L}_{4}+{d}_{3} \\
0 & 0 & 0 & 1
\end{pmatrix}
\end{aligned}$$

כך ש:
$$\boxed {
^{0}\mathbf{T}_{3}=\,^{0}{{\mathbf{T}_{1}}}^{1}{{\mathbf{T}_{2}}}^{2}{{\mathbf{T}_{3}}}
 }$$

### סעיף ד'

נתון כי כעת מותקן מברג בתפסנית. מיקום קצה המברג במערכת התפסנית הוא $({p}_{x},{p}_{y},{p}_{z}) = (0,5,10)$.

מיקום קצה המברג במערכת העולם הוא:
$${}^{0}\mathbf{p} = {}^{0}\mathbf{T}_{3} \begin{pmatrix} 0 \\ 5 \\ 10 \\ 1 \end{pmatrix}$$

## שאלה 2
![[IRB1_E2022WA 2022 חורף מועד א 2025-07-12 13.29.57.excalidraw.svg]]^figure-2-assigning-DH
>הגדרת מערכת הצירים.

### סעיף א'
נתונה נקודת הדרישה $P=({p}_{x},{p}_{y},{p}_{z})$.

ישנם שלושה משתנים ושלושה מפרקים, כך שממד קבוצת הפתרונות הוא מספר דיסקרטי.

### סעיף ב'
ניתן לראות מבחירת מערכת הצירים שלנו ש:
$$\begin{aligned}
 & {p}_{x}={c}_{1}({d}_{2}+2{L}_{2}{c}_{3}) \\[1ex]
 & {p}_{y}={s}_{1}({d}_{2}+2{L}_{2}{c}_{3}) \\[1ex]
 & {p}_{z}={L}_{1}+2{L}_{2}{s}_{3}
\end{aligned}$$
מהמשוואה השלישית:
$${s}_{3}=\dfrac{{p}_{z}-{L}_{1}}{2{L}_{2}}$$

**פתרון עבור ${\theta}_{3}$:**
מהמשוואה השלישית:
$$\begin{gathered}
{s}_{3}=\dfrac{{p}_{z}-{L}_{1}}{2{L}_{2}} \\[1ex]
\end{gathered}$$
ולכן:
$${c}_{3}=\pm\sqrt{ 1-\left(\dfrac{{p}_{z}-{L}_{1}}{2{L}_{2}}\right)^{2} } $$

נרשום:
$$\boxed{{\theta}_{3}=\mathrm{atan2}({s}_{3},\pm {c}_{3}) }$$

**פתרון עבור ${d}_{2}$ ו-${\theta}_{1}$:**
נגדיר: $r_\mathrm{} = {d}_{2}+2{L}_{2}{c}_{3}$.

מהמשוואות הראשונה והשנייה:
$$\begin{aligned}
 & {p}_{x}=r_\mathrm{}{c}_{1} \\
 & {p}_{y}=r_\mathrm{}{s}_{1}
\end{aligned}$$

נעלה בריבוע ונחבר:
$${{{p}_{x}}}^{2}+{{{p}_{y}}}^{2}={r}^{2}$$

מכאן:
$${r_\mathrm{}}=\pm\sqrt{{{{p}_{x}}}^{2}+{{{p}_{y}}}^{2}}$$

לכן:
$$\boxed {
\begin{aligned}
{d}_{2} & =\pm\sqrt{{{{p}_{x}}}^{2}+{{{p}_{y}}}^{2}} - 2{L}_{2}{c}_{3} \\[1ex]
{\theta}_{1} & =\mathrm{atan2}(\pm {p}_{y},\pm {p}_{x})
\end{aligned}
 }$$

### סעיף ג'

ישנם 4 פתרונות לבעיה באופן כללי, בהנחה שאין אילוצים מגבילים על ${d}_{2}$ (כגון אם הוא יכול להיות שלילי).

עץ הפתרונות:

```mermaid
graph TD
    A["$$({p}_{x}, {p}_{y}, {p}_{z})$$"] --> B1["$${\theta}_{3}^{+}$$"] & B2["$${\theta}_{3}^{-}$$"]
    B1 --> C1["$$\theta_1$$ +"] & C2["$$\theta_1$$ -"]
    B2 --> C3["$$\theta_1$$ +"] & C4["$$\theta_1$$ -"]
    C1 --> D1["$$d_2$$"]
    C2 --> D2["$$d_2$$"]
    C3 --> D3["$$d_2$$"]
    C4 --> D4["$$d_2$$"]
```

