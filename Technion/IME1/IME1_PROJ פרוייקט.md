---
aliases:
---

|                   | סטודנט א'                      | סטודנט ב'                      | **סטודנט ג'**                      |
| ----------------- | ------------------------------ | ------------------------------ | ---------------------------------- |
| **שם**            | עידו פנג בנטוב                 | ניר קרל                        | יובל הנדל                          |
| **ת"ז**           | 322869140                      | 322437203                      | 211828587                          |
| **דואר אלקטרוני** | ido.fang@campus.technion.ac.il | nir.karl@campus.technion.ac.il | yuval.hendel@campus.technion.ac.il |

קבצי ה-Multisim וה-Datasheets מצורפים בנפרד.

# מבוא - דרישות התכנון
בפרויקט זה, נדרשנו לעמוד בכמה וכמה דרישות תכן שונות:
1. יש לתכנן מעגל המגביר את יציאת החיישן לתחום $0$ עד $\pu{10}$ וולט. שימו לב שיש להגביר את הפרש הפוטנציאלים בין הדקי היציאה של החיישן.
2. יש לבחור רכיבים במעגל ההגברה שיבטיחו דיוק של $1\%$ במעגלי ההגברה.
3. יש לאפשר כוונון של ${\tau}_{\max_{}}$ כמתח ספציפי ${V}_{\max_{}}$ בתחום $0$ עד $10$ וולט.
4. יש לנתק את הזרם למנוע כאשר מתח החיישן אחרי הגברה עובר את ${V}_{\max_{}}$, ובאותו זמן להדליק דיודת אזהרה.
5. יש לחבר חזרה את אספקת הזרם למנוע כאשר מתקיימים שני התנאים:
	- מתח החיישן אחרי הגברה יורד מתחת ל-${V}_{\max_{}}$.
	- מפעיל הרובוט לחץ על כפתור RESET (הלחיצה אמורה לכבות את דיודת האזהרה).

כמו כן נתון כי:
- המנוע מהווה עומס התנגדותי של $\pu{10\Omega}$.
- ברשותנו ספק מתח של $\pu{10V}$.

<div><hr><hr></div>

# המעגל ומרכיביו
![[{92BF6819-A7AC-40C4-A7B4-525716C9091A}.png|bookhue]]

<div><hr><hr></div>


## רשימת רכיבים - BOM

| Description                                      | Package                         | RefDes   | Quantity | Manufacturer |
| ------------------------------------------------ | ------------------------------- | -------- | -------- | ------------ |
| VOLTAGE_REGULATOR, LM7805CT                      | Texas Instruments\TO-220-3(NDE) | U19, U20 | 2        |              |
| 74STD, 7408N                                     | IPC-2221A/2222\NO14             | U23, U25 | 2        |              |
| 74STD, 7404N                                     | IPC-2221A/2222\NO14             | U18, U24 | 2        |              |
| LED_red                                          | Ultiboard\LED9R2_5V             | LED1     | 1        |              |
| OPAMP, LM324AD                                   | IPC-7351\CASE751A               | U1, U2   | 2        |              |
| MANUFACTURER_RESISTOR, 220 Ohm    [4114R-1-221]  | Bourns\DIP-14(4114R)            | R6       | 1        | Bourns       |
| MANUFACTURER_RESISTOR, 1 kOhm    [RN55D1001DR36] |                                 | R7, R9   | 2        | VISHAY       |
| MOS_ENH_N, IRF510                                | Vishay\TO-220-3(TO-220AB)       | Q2       | 1        |              |
| MANUFACTURER_RESISTOR, 3 Ohm    [RN55D03R0DR36]  |                                 | R5, R8   | 2        | VISHAY       |

<div><hr><hr></div>

## מד-עיבור
![[strain sensor.png|bookhue|450]]

**תיאור**:
במעגל משורטט מד העיבור הנתון שמוציא מתחים בטווח $0$ עד $30$ מיליוולט. אבל לטובת הסימולציה אנו למעשה מתעלמים ממנו, ומניחים כניסה של מקור מתח DC מתכוונן בטווח הרצוי.


## כפתור
![[{296392AC-E76A-4BC4-83BB-0A9FBEECEA62}.png|bookhue|200]]

**תיאור**:
כפתור push button ללחיצה על ה-RESET במעגל הלוגי.


## מכוונן מתח מקסימלי
![[{ADEBCFEB-F91B-455C-8E04-648126178CEF}.png|bookhue|200]]

**תיאור**:
זהו מעגל פשוט המכיל פוטנציומטר שניתן בעזרתו לכוונן את המתח המקסימלי ${V}_{\max_{}}$ המותר לספק למנוע.


<div><hr><hr></div>

## מעגל הגברה

![[{28660839-C8BC-4E0A-9CC3-8733597E63EE}.png|bookhue|500]]

**תיאור**:
מעגל ההגברה משמש להגברת מתח הדקי מד העיבור מ- 0-30mV ל- 0-10V.

**פירוט**:
מעגל ההגברה בנוי ממגבר שרת מחסר שומר סימן בעל יחס נגדים $\dfrac{{R}_{F}}{R}=\dfrac{1000}{3}$, מה שיוצר הגבר של $A=1000/3$ בין הפרש ההדקים של מד העיבור.

נוסחת מחסר מתח:
$${V}_{\text{out}}=\dfrac{{R}_{F}}{R}({V}_{+}-{V}_{-})$$



**חישוב דיוק המגבר**:
בהנחה והמגבר שרת אידיאלי, ולנגדים סיבולת של $0.5\%$, כפי שמוצג ב- datasheets:
$$\begin{aligned}
 & {R}_{1,\max_{}}={R}_{1}+{R}_{1}\eta=\pu {3.015\Omega },  & & {R}_{1,\min_{}}={R}_{1}-{R}_{1}\eta=\pu {2.985\Omega } \\[1ex]
 & {R}_{F,\max_{}}={R}_{F}+{R}_{F}\eta=\pu{1.005k\Omega}, &  & {R}_{F,\min_{}}={R}_{F}-{R}_{F}\eta=\pu{0.995\Omega}
\end{aligned}$$
במצבי קיצון אלו, יחס ההגברה יהיה:
$${G}_{\max_{}}=\dfrac{{R}_{F,\max_{}}}{{R}_{1,\min_{}}}=336.68,\qquad {G}_{\min_{}}=\dfrac{{R}_{F,\min_{}}}{{R}_{1,\min_{}}}=330.017$$
ולכן השגיאה:
$${E}_{\max_{}}=\dfrac{{G}_{\max_{}}}{G}-1=1.005\%,\qquad {E}_{\min_{}}=1-\dfrac{{G}_{\min_{}}}{G}=0.995\%$$
כך שהמעגל עומד בדרישות.

<div><hr><hr></div>

## מעגל לוגי

![[{ACCCCF8C-C8BA-4409-9F35-57955FD19AEC}.png|bookhue|600]]

**תיאור**:
המעגל הלוגי מקבל מתח מוגבר ממד העיבור ומתח סף מקסימלי ומוציא $1$ לוגי קבוע. אם מתח מד העיבור גדול ממתח הסף המקסימלי המעגל הלוגי מוציא $0$ לוגי עד שמתקיימים 2 תנאים:

1. מתח מד העיבור יורד מתחת למתח הסף המקסימלי.
2. משתמש לחץ על כפתור האיפוס.
  
**פירוט**:
המעגל מורכב ממגבר שרת משווה, כך שכל עוד מתח מד העיבור *נמוך* ממתח הסף מתח היציאה במשווה הוא ${V}_{S}$ (מתח ההספקה) וכאשר מתח מד העיבור *גבוה* ממתח הסף המקסימלי, מתח היציאה הוא $0$. בנוסף למעגל זה מחובר כפתור האיפוס (פתוח באופן טבעי) שנכנס לשער לוגי AND יחד עם יציאת המתח ממשווה המתח, כך שמתח יציאת השער הלוגי הוא $1$ לוגי אם ורק אם כפתור האיפוס לחוץ וגם מתח מד העיבור *נמוך* ממתח הסף. מתח היציאה של משווה המתחים ומתח כפתור האיפוס מונמכים מ-$\pu{10V}$ ל-$\pu{5V}$, שזהו מתח לוגי שהשערים הלוגיים במעגל יכולים לעמוד בו. יציאת השער הלוגי נכנסת לכניסת SET של רכיב Flip Flop SR בזמן שלכניסת ה- RESET מחובר NOT של מתח היציאה מהמשווה, כך שאם מתח המשוואה הוא אפס (כלומר מצב לא תקין) הפליפ-פלופ מתאפס ומתח היציאה של המעגל הלוגי הוא $0$. כאשר המצב חוזר למצב עבודה תקין *וגם* משתמש לחץ על כפתור, הפליפ-פלופ עובר למצב של SET והיציאה שלו הופכת ל-$1$ לוגי. (בזכות שער ה- AND נמנע מצב לא תקין של SET ו- RESET בו זמנית).

<div><hr><hr></div>

## מעגל נורת אזהרה

![[{46E3C3A1-137A-4ADA-9200-203C433FAC6A}.png|bookhue|300]]

**תיאור**:
מעגל נורת האזהרה מדליק נורת LED כאשר הוא מקבל מתח לוגי $0$, ומכבה אותה כאשר הוא מקבל מתח לוגי $1$.

**פירוט**:
נורת הלד צורכת זרם נמוך יחסית ומתח נומינלי של $\pu{3.3V}$. לכן, ניתן להדליק ולכבות אותה ישירות על ידי שימוש שבמתח הלוגי שיוצא מהמעגל הלוגי.

## מעגל מפסק מנוע

![[{91B593AF-6D48-442C-9EF5-7C0397C0C553}.png|bookhue|300]]

  
**תיאור**:
מעגל מפסק המנוע מפסיק את הזרם למנוע כאשר הוא מקבל מתח לוגי 0 ומחזיר את הזרם למנוע כאשר הוא מקבל 1 לוגי.

  
**פירוט**:
הכניסה הלוגית למעגל נכנסת לכניסת gate של mosfet שאליו מחובר בטור המנוע (נגד של 10 אוהם) בכניסת ה- collector והארקה בכניסת ה- emitter.  כאשר מגיע זרם ל- gate, "נפתח" הטרנזיסטור והוא מחבר את המנוע לאדמה כך שזורם דרכו זרם. כניסת ה- gate מחוברת גם לנגד pulldown שמוודא שאין מטען סטטי שגורם לפתיחה לא רצויה של הטרנזיסטור כאשר המתח הלוגי הוא $0$.


# סימולציות וגרפים
![[oscciloscope_fig.png|bookhue]]
**הסבר הסימולציה**:
- בתחילת התהליך, עם מדידה של המד-עיבור של $\pu{0mV}$, מתבצעת לחיצה ידנית של הכפתור RESET. כתוצאה מכך נורת האזהרה נכבית כי המתח תקין (עם ${V}_{\max_{}}=\pu{7V}$).
- לאחר כוונון ידני של המד-עיבור לפליטת $\pu{30mV}$, האות מוגבר ע"י המגבר ל- $\sim \pu{8.4V}$ (אידיאלית הוא יהיה $\pu{10V}$, אבל המתח שהמגבר מקבל הוא גם $\pu{10V}$, ומגברים אמיתיים לא באמת מצליחים להוציא מתח השווה למתח הכניסה שלהם). כתוצאה מכך הוא עובר את המתח המותר, ולפיכך נורת האזהרה נדלקת והמנוע לא מקבל מתח.
- לאחר כוונון ידני של המד-עיבור לפליטת $\sim \pu{5mV}$, האות מוגבר ל- $\sim \pu{2V}$, שזה מתחת למתח המותר. המעגל הלוגי עדיין פולט $\pu{0V}$ כי הכפתור RESET עדיין לא נלחץ.
- לאחר לחיצה על RESET, כיוון שאנו מתחת למתח המותר, המעגל הלוגי פולט $\pu{5V}$, כך שנורת האזהרה נכבית והמנוע מקבל מתח.